// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model User {
  id                Int               @default(autoincrement()) @id
  email             String            @unique
  name              String?
  article           Article[]
  articleGroup      ArticleGroup[]
  trail             Trail[]
}

model Article {
  id                Int               @default(autoincrement()) @id
  title             String
  content           String?
  published         Boolean?          @default(false)
  author            User?             @relation(fields: [authorId], references: [id])
  authorId          Int?
  articleGroup      ArticleGroup?     @relation(fields: [articleGroupId], references: [id])
  articleGroupId    Int?
}

model Trail {
  id                Int               @default(autoincrement()) @id
  title             String
  content           String?
  published         Boolean?          @default(false)
  author            User?             @relation(fields: [authorId], references: [id])
  authorId          Int?
  articleGroup      ArticleGroup[]
}

model ArticleGroup {
  id                Int               @default(autoincrement()) @id
  title             String
  published         Boolean?          @default(false)
  author            User?             @relation(fields: [authorId], references: [id])
  authorId          Int?
  trail             Trail?            @relation(fields: [trailId], references: [id])
  trailId           Int?
  article           Article[]
}
